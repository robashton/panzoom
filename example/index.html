<html>
  <head>
    <script src="lib/jquery.js" type="text/javascript"></script>
    <script src="../panzoom.js" type="text/javascript"></script>
    <script src="lib/hammer.js" type="text/javascript"></script>
  </head>
  <body>
    <img src="image.jpg" width="740" height="480"/>

    <script type="text/javascript">
      $(function() { 
        var $img = $('img')
        var zoomed = false

        var zoomer = $img.panzoom({
          width: 740,
          height: 480
        })

        $img.dblclick(function(e) {
          var imagePosition = zoomer.screenToImage(e.clientX, e.clientY)

          if(zoomed) {
            zoomer.zoom(1.0)
            zoomer.pan(0.5,0.5) 
          } else {
            zoomer.zoom(4.0)
            console.log(imagePosition.x, imagePosition.y)
            zoomer.pan(imagePosition.x, imagePosition.y)
          }
          zoomed = !zoomed
        })
      })
    </script>
  </body>
</html>

